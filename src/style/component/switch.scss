@use 'sass:math';
@use '../mixins' as m;

$border-w: 1.5px;
$switch-w: 39px;
$switch-h: 24px;

$btn-w: 12px;
$btn-w-checked: 16px;

@mixin btn($w, $direction) {
  $spacing: math.div($switch-h - $w, 2) - $border-w;
  $center-load-w: $switch-w - $switch-h;
  width: $w;
  height: $w;
  top: $spacing;
  transform: translateX($spacing + if($direction == 'left', 0, $center-load-w));
}

//开关
.b3-switch {
  background-color: var(--rc-background);
  width: $switch-w;
  height: $switch-h;
  border-radius: var(--rc-border-radius-max);
  border: $border-w solid var(--rc-outline);
  transition: var(--b3-transition);

  &::before {
    display: none !important;
  }

  &::after {
    background-color: var(--rc-outline); //rgba(var(--rc-on-surface-variant));
    transition: var(--b3-transition);
    border: none;
    box-shadow: none;
    bottom: unset;
    left: unset;
    right: unset;
    border-radius: var(--rc-border-radius-max);
    @include btn($btn-w, 'left');
  }

  &:checked {
    border-color: var(--rc-primary);
    background: var(--rc-primary);

    &::after {
      background-color: var(--rc-background);
      @include btn($btn-w-checked, 'right');
    }
  }
}
